**************
Reference Data
**************

ISB-CGC Hosted Reference Data
#############################

To facilitate working with the TCGA and other program data tables that the ISB-CGC is hosting in BigQuery, additional
reference data tables have been created. Others are hosted by Google Cloud Life Sciences. Suggestions for more are welcome at feedback@isb-cgc.org.

For additional details about each of these tables, please use the `BigQuery web UI <https://console.cloud.google.com/bigquery>`_ 
to access each of these tables and look at the information on the **Details** page.  (Look for the Details button
between the Schema and Preview buttons, beneath the table name.)

Genome Reference Data
=====================

Reference data that describes or annotates the human (or other) genome(s) is described in this section.  
Reference data hosted by the ISB-CGC in BigQuery tables are available in the ``isb-cgc.genome_reference`` 
`data set <https://console.cloud.google.com/bigquery?p=isb-cgc&d=genome_reference&page=dataset>`_.  Tables based on 
gene-sets such as Ensembl and GENCODE can be used to find the genomic coordinates and identifiers
for genes of interest, to perform queries that join tables with gene-symbol based data
to tables with genomic-coordinate based data or tables that use other gene identifiers, for example.
    
.. list-table::
   :header-rows: 1 
   
   * - Table
     - Description
   * - Ensembl
     - * GRCh37: Release 75, the final build of the Ensembl_ gene-set mapped to GRCh37
       * GRCh38: Release 87, the most recent Ensembl_ gene-set mapped to GRCh38
   * - GENCODE
     - * GRCh37: Release 19, the final build of the GENCODE_ gene-set mapped to GRCH37
       * GRCh38: Releases 22, 23, and 24 from GENCODE_ are all available (because the TCGA data has been reprocessed by at least one center using each of these three different releases) 
   * - Gene Ontology Consortium
     - Tables based on GO_ annotations and the GO_ ontology.
   * - Kaviar
     - The latest hg19- and hg38-based Kaviar_ databases are available.  Kaviar_ is a compilation of SNVs, indels, and complex variants observed in humans, designed to facilitate testing for the novelty and frequency of observed variants.
   * - liftOver_hg19_to_hg38
     - This table provides a mapping of each hg19 position to the corresponding position in hg38, and can be used to perform a liftOver_ operation in BigQuery.
   * - miRBase
     - * GRCh37: The human portion of version 20 of the miRBase_ database; including genomic coordinates for human microRNAs.  
       * GRCh38: The human portion of version 21 of the miRBase_ database; including genomic coordinates for human microRNAs.
   * - miRTarBase
     - The recently updated miRTarBase_ database (release 6.1)
   * - Reactome
     - * Ensembl2Reactome
       * miRBase2Reactome
   * - Genome-Wide SNP Array
     - The technical documentation for the Affymetrix Genome-Wide Human SNP Array 6.0 array can be found `here <http://www.affymetrix.com/catalog/131533/AFFY/Genome-Wide+Human+SNP+Array+6.0#1_3>`_.
    

.. _liftOver: https://genome.ucsc.edu/cgi-bin/hgLiftOver
.. _GO: http://www.geneontology.org/
.. _Ensembl: http://uswest.ensembl.org/index.html
.. _GENCODE: https://www.gencodegenes.org/
.. _Kaviar: http://db.systemsbiology.net/kaviar/
.. _miRBase: http://www.mirbase.org/
.. _miRTarBase: http://nar.oxfordjournals.org/content/early/2015/11/19/nar.gkv1258.long


Platform Reference Data
=======================

Some reference data is necessary to work with data generated by specific platforms such as the
Illumina DNA Methylation array. The `platform_reference data set <https://console.cloud.google.com/bigquery?p=isb-cgc&d=GTEx_v7&page=dataset>`_  contains information on the Illumina DNA Methylation Platform.
    
.. list-table::
   :header-rows: 1 
   
   * - Table
     - Description
   * - HG38 DNA Methylation
     - Most of the DNA Methylation data produced by the TCGA project was obtained using the Illumina Infinium HumanMethylation450 (aka 450k) BeadChip array.  Some of the earlier tumor types were assayed on the older, 27k array.
   * - Illumina DNA Methylation Annotation
     - Although additional details can be found at the `Illumina <https://www.illumina.com/>`_ webpage, platform annotation information has been uploaded into the BigQuery table ``isb-cgc.platform_reference.methylation_annotation``. Each CpG locus is uniquely identified as described in this `technical note <http://www.illumina.com/content/dam/illumina-marketing/documents/products/technotes/technote_cpg_loci_identification.pdf>`_ and this unique identifier can be used to look up and cross-reference data between the TCGA DNA methylation data table and the platform annotation table. 
   * - DNA Methylation Annotation Liftover to HG38 Coordinates
     - The original Illumina-provided CpG coordinates have been *"lifted over"* from hg19 to hg38.
     
     
Genotype Tissue Expression (GTEx) Project Data
=======================

The `GTEx_v7 data set <https://console.cloud.google.com/bigquery?p=isb-cgc&d=GTEx_v7&page=dataset>`_ contains tables with molecular and clinical data (gene read, gene expression, sample attributes, subject phenotype) loaded from the Genotype-Tissue Expression (GTEx) Project Data Portal on November 2017. See the  `GTEx Portal <https://gtexportal.org/>`_ for more information.

University of California Santa Cruz (UCSC) TOIL RNA-seq recompute project Data
=======================

The `Toil_recompute data set <https://console.cloud.google.com/bigquery?p=isb-cgc&d=Toil_recompute&page=dataset>`_ contains data made available by the UCSC TOIL RNA-seq recompute project. The goal of the project was to process ~20,000 RNA-seq samples to create a consistent meta-analysis of four datasets free of computational batch effects. This is best used to compare TCGA cohorts to TARGET or GTEx cohorts. For more details, see the `Zena Browser Data Pages <https://xenabrowser.net/datapages/>`_.
    

Other Reference Data Sources
############################

Google Cloud Life Sciences maintains a list of 
`publicly available data sets <https://cloud.google.com/genomics/docs/public-datasets/>`_, 
including **Reference Genomes**, 
the **Illumina Platinum Genomes**, information about the **Tute Genomics Annotation** table, *etc*.
